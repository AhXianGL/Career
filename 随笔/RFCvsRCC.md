# RFC vs RCC(React Function Component VS React Class Component)

> 函数式组件与类组件究竟哪里不同? 函数式组件的出现帮助开发者解决了什么问题?
> 这是我从入职前端开始用react,查看React文档后看到了RFC RCC两种组件的写法就思考的问题,
> 网上的那些浅尝辄止的回答,真的太愚蠢了!!!

## 实践中的启发

> 工作时一直在实践中思考这个问题,在积累了一段时间后受下述场景的启发,逐渐对这个问题有了
> 自己的阶段性理解,

1. webgis地图应用的前端实践,即React Flux架构下的应用状态与第三方库的副作用的复杂同步的场景下RFC vs RCC。
   这种场景是将React的状态变更和对应的重新渲染看作是一次纯函数的作用过程。在此过程中引发的
   Flux架构之外的事物的变化,比如地图框架中的图层操作则属于该纯函数中的'副作用'。
   以地图类型的应用为例:地图应用中充斥着大量的"副作用",在这样的应用类型中,使用React作为前
   端UI库,就需要处理好应用的状态与地图框架副作用的'同步'[React Doc - You Might Not Need an Effect](https://beta.reactjs.org/learn/you-might-not-need-an-effect),即
   组件状态中的图层列表(数据)与图层添加/删除,顺序变换,显示与隐藏...等等交互需求所对应的地
   图/图层对象的操作
2. 复杂的交互场景下,应用各个组件状态的联动,每次状态变化都需要触发另外组件中某个状态的变化。
   这种场景是将某个组件(A)的状态的变化和对应的重新渲染看作一次纯函数的作用过程。在此过程中
   引发的另一个组件(B)的状态的变化和重新渲染则属于该纯函数过程中的'副作用'。
   以面板折叠/展开场景为例
   此场景通常出现在UI交互需求中,面板A 展开时 面板B需要收起,但是有多个交互操作(DOM事件回
   调)会触发面板A折叠与展开的状态的变动, 如果使用RCC实现,那么每次调用setState的时候都需要
   编写收起面板B的回调(此次操作的'副作用')
对函数式的组件的认识也经历了发展: 不知道这样搞干嘛,在地图框架的使用中逐渐理解了副作用,复杂
交互的实现过程中进一步扩展了自己对副作用的认识,重复写副作用的过程中,体会到了函数式组件给开发者带来的便利, 问题的核心就在"副作用" 在"Flux" 在"FP",那为什么一开始要用类组件呢,这就要参考JS Conf react 创始人所讲的react思想
一步副
作用的概念
但是再进一步思考一下,按照上述理论,难道RFC帮助开发者解决了副作用的管理问题嘛?